<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Beats
  </title>
  <style>
   html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}
  </style>
  <script>
   window.console = window.console || function(t) {};
  </script>
 </head>
 <body translate="no">
  <script id="rendered-js" type="module">
   import * as THREE from "https://cdn.skypack.dev/three@0.136.0";
import { OrbitControls } from "https://cdn.skypack.dev/three@0.136.0/examples/jsm/controls/OrbitControls";

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 0, 30);

const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

const geometry = new THREE.BufferGeometry();
const timeLength = 100;
const time = new Float32Array(timeLength);
for (let i = 0; i < timeLength; i++) {
  time[i] = i / (timeLength - 1);
}
const freq1 = 2.0;
const freq2 = 2.2;
const amp = 1;
const wave1 = new Float32Array(timeLength);
const wave2 = new Float32Array(timeLength);
const sum = new Float32Array(timeLength);
for (let i = 0; i < timeLength; i++) {
  wave1[i] = Math.sin(2 * Math.PI * freq1 * time[i]) * amp;
  wave2[i] = Math.sin(2 * Math.PI * freq2 * time[i]) * amp;
  sum[i] = wave1[i] + wave2[i];
}
const position = new Float32Array(timeLength * 3);
for (let i = 0; i < timeLength; i++) {
  position[i * 3] = time[i] * 20 - 10;
  position[i * 3 + 1] = sum[i] * 3;
  position[i * 3 + 2] = 0;
}
const linePos = new THREE.BufferAttribute(position, 3);
geometry.setAttribute('position', linePos);
const material = new THREE.LineBasicMaterial({ color: 0xff0000 });
const line = new THREE.Line(geometry, material);
scene.add(line);

const geo = new THREE.BufferGeometry();
const meshPos = new Float32Array(timeLength * 3);
for (let i = 0; i < timeLength; i++) {
  meshPos[i * 3] = time[i] * 20 - 10;
  meshPos[i * 3 + 1] = sum[i] * 3;
  meshPos[i * 3 + 2] = 0;
}
const meshPoints = new THREE.BufferAttribute(meshPos, 3);
geo.setAttribute('position', meshPoints);
const mat = new THREE.PointsMaterial({ color: 0xff0000, size: 0.2 });
const points = new THREE.Points(geo, mat);
scene.add(points);

function animate() {
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene, camera);
}

animate();
  </script>
 </body>
</html>